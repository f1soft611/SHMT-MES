-- ================================================
-- MES 권한 관리 시스템 초기 데이터
-- ================================================

-- 메뉴 정보 초기 데이터
INSERT INTO MES_MENU_INFO (MENU_ID, MENU_NM, MENU_DC, PARENT_MENU_ID, MENU_ORDR, MENU_URL, ICON_NM, USE_AT, FRST_REGISTER_ID) VALUES
('MENU001', '대시보드', '시스템 대시보드', NULL, 1, '/', 'Dashboard', 'Y', 'SYSTEM'),
('MENU002', '기준정보', '시스템 기준정보 관리', NULL, 2, '/base-data', 'Settings', 'Y', 'SYSTEM'),
('MENU003', '생산지시', '생산지시 관리', NULL, 3, '/production-orders', 'Assignment', 'Y', 'SYSTEM'),
('MENU004', '생산실적', '생산실적 관리', NULL, 4, '/production-results', 'Factory', 'Y', 'SYSTEM'),
('MENU005', '인터페이스 모니터', '인터페이스 모니터링', NULL, 5, '/interface', 'Monitor', 'Y', 'SYSTEM'),
('MENU006', '시스템 관리', '시스템 관리 메뉴', NULL, 6, '/admin', 'AdminPanelSettings', 'Y', 'SYSTEM'),
('MENU007', '권한 관리', '사용자 권한 관리', 'MENU006', 1, '/admin/permissions', 'Security', 'Y', 'SYSTEM'),
('MENU008', '메뉴 관리', '메뉴 관리', 'MENU006', 2, '/admin/menus', 'Menu', 'Y', 'SYSTEM'),
('MENU009', '사용자 관리', '사용자 관리', 'MENU006', 3, '/admin/users', 'People', 'Y', 'SYSTEM');

-- 권한 유형 초기 데이터
INSERT INTO MES_PERMISSION_TYPE (PERMISSION_ID, PERMISSION_NM, PERMISSION_DC, PERMISSION_LEVEL, USE_AT, FRST_REGISTER_ID) VALUES
('PERM_READ', '읽기 권한', '조회만 가능한 읽기 권한', 'read', 'Y', 'SYSTEM'),
('PERM_WRITE', '쓰기 권한', '조회, 등록, 수정, 삭제 가능한 쓰기 권한', 'write', 'Y', 'SYSTEM');

-- 추가 권한 유형 (요구사항에 맞는 세분화된 권한)
INSERT INTO MES_PERMISSION_TYPE (PERMISSION_ID, PERMISSION_NM, PERMISSION_DC, PERMISSION_LEVEL, USE_AT, FRST_REGISTER_ID) VALUES
('PERM_ADMIN', '관리자 권한', '전체 시스템 관리 권한', 'write', 'Y', 'SYSTEM'),
('PERM_PROD_REG', '생산실적등록 권한', '생산실적 등록 권한', 'write', 'Y', 'SYSTEM'),
('PERM_PROD_VIEW', '생산실적조회 권한', '생산실적 조회 권한', 'read', 'Y', 'SYSTEM'),
('PERM_ORDER_REG', '생산지시등록 권한', '생산지시 등록 권한', 'write', 'Y', 'SYSTEM'),
('PERM_ORDER_VIEW', '생산지시조회 권한', '생산지시 조회 권한', 'read', 'Y', 'SYSTEM'),
('PERM_BASE_MANAGE', '기준정보관리 권한', '기준정보 관리 권한', 'write', 'Y', 'SYSTEM');

-- 기존 ROLE_ADMIN 그룹에 모든 메뉴의 관리자 권한 부여
INSERT INTO MES_ROLE_MENU_PERMISSION (ROLE_MENU_ID, GROUP_ID, MENU_ID, PERMISSION_ID, USE_AT, FRST_REGISTER_ID) VALUES
('RMP001', 'GROUP_00000000000000', 'MENU001', 'PERM_ADMIN', 'Y', 'SYSTEM'),
('RMP002', 'GROUP_00000000000000', 'MENU002', 'PERM_ADMIN', 'Y', 'SYSTEM'),
('RMP003', 'GROUP_00000000000000', 'MENU003', 'PERM_ADMIN', 'Y', 'SYSTEM'),
('RMP004', 'GROUP_00000000000000', 'MENU004', 'PERM_ADMIN', 'Y', 'SYSTEM'),
('RMP005', 'GROUP_00000000000000', 'MENU005', 'PERM_ADMIN', 'Y', 'SYSTEM'),
('RMP006', 'GROUP_00000000000000', 'MENU006', 'PERM_ADMIN', 'Y', 'SYSTEM'),
('RMP007', 'GROUP_00000000000000', 'MENU007', 'PERM_ADMIN', 'Y', 'SYSTEM'),
('RMP008', 'GROUP_00000000000000', 'MENU008', 'PERM_ADMIN', 'Y', 'SYSTEM'),
('RMP009', 'GROUP_00000000000000', 'MENU009', 'PERM_ADMIN', 'Y', 'SYSTEM');

-- 기존 ROLE_USER 그룹에 기본 읽기 권한 부여 (시스템 관리 메뉴 제외)
INSERT INTO MES_ROLE_MENU_PERMISSION (ROLE_MENU_ID, GROUP_ID, MENU_ID, PERMISSION_ID, USE_AT, FRST_REGISTER_ID) VALUES
('RMP010', 'GROUP_00000000000001', 'MENU001', 'PERM_READ', 'Y', 'SYSTEM'),
('RMP011', 'GROUP_00000000000001', 'MENU002', 'PERM_READ', 'Y', 'SYSTEM'),
('RMP012', 'GROUP_00000000000001', 'MENU003', 'PERM_ORDER_VIEW', 'Y', 'SYSTEM'),
('RMP013', 'GROUP_00000000000001', 'MENU004', 'PERM_PROD_VIEW', 'Y', 'SYSTEM'),
('RMP014', 'GROUP_00000000000001', 'MENU005', 'PERM_READ', 'Y', 'SYSTEM');

-- 새로운 권한 그룹 추가
INSERT INTO LETTNAUTHORGROUPINFO (GROUP_ID, GROUP_NM, GROUP_CREAT_DE, GROUP_DC) VALUES
('GROUP_00000000000002', 'ROLE_PRODUCTION_MANAGER', NOW(), '생산 관리자 그룹'),
('GROUP_00000000000003', 'ROLE_PRODUCTION_USER', NOW(), '생산 사용자 그룹'),
('GROUP_00000000000004', 'ROLE_VIEWER', NOW(), '조회 전용 사용자 그룹');

-- 생산 관리자 권한 설정
INSERT INTO MES_ROLE_MENU_PERMISSION (ROLE_MENU_ID, GROUP_ID, MENU_ID, PERMISSION_ID, USE_AT, FRST_REGISTER_ID) VALUES
('RMP015', 'GROUP_00000000000002', 'MENU001', 'PERM_READ', 'Y', 'SYSTEM'),
('RMP016', 'GROUP_00000000000002', 'MENU002', 'PERM_BASE_MANAGE', 'Y', 'SYSTEM'),
('RMP017', 'GROUP_00000000000002', 'MENU003', 'PERM_ORDER_REG', 'Y', 'SYSTEM'),
('RMP018', 'GROUP_00000000000002', 'MENU004', 'PERM_PROD_REG', 'Y', 'SYSTEM'),
('RMP019', 'GROUP_00000000000002', 'MENU005', 'PERM_READ', 'Y', 'SYSTEM');

-- 생산 사용자 권한 설정 (실적 등록만 가능)
INSERT INTO MES_ROLE_MENU_PERMISSION (ROLE_MENU_ID, GROUP_ID, MENU_ID, PERMISSION_ID, USE_AT, FRST_REGISTER_ID) VALUES
('RMP020', 'GROUP_00000000000003', 'MENU001', 'PERM_READ', 'Y', 'SYSTEM'),
('RMP021', 'GROUP_00000000000003', 'MENU003', 'PERM_ORDER_VIEW', 'Y', 'SYSTEM'),
('RMP022', 'GROUP_00000000000003', 'MENU004', 'PERM_PROD_REG', 'Y', 'SYSTEM'),
('RMP023', 'GROUP_00000000000003', 'MENU005', 'PERM_READ', 'Y', 'SYSTEM');

-- 조회 전용 사용자 권한 설정
INSERT INTO MES_ROLE_MENU_PERMISSION (ROLE_MENU_ID, GROUP_ID, MENU_ID, PERMISSION_ID, USE_AT, FRST_REGISTER_ID) VALUES
('RMP024', 'GROUP_00000000000004', 'MENU001', 'PERM_READ', 'Y', 'SYSTEM'),
('RMP025', 'GROUP_00000000000004', 'MENU002', 'PERM_READ', 'Y', 'SYSTEM'),
('RMP026', 'GROUP_00000000000004', 'MENU003', 'PERM_ORDER_VIEW', 'Y', 'SYSTEM'),
('RMP027', 'GROUP_00000000000004', 'MENU004', 'PERM_PROD_VIEW', 'Y', 'SYSTEM'),
('RMP028', 'GROUP_00000000000004', 'MENU005', 'PERM_READ', 'Y', 'SYSTEM');